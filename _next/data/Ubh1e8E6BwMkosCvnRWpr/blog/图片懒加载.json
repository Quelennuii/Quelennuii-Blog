{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var N=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),k=(a,s)=>{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},i=(a,s,c,e)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let l of h(s))!u.call(a,l)&&l!==c&&t(a,l,{get:()=>s[l],enumerable:!(e=p(s,l))||e.enumerable});return a};var g=(a,s,c)=>(c=a!=null?d(m(a)):{},i(s||!a||!a.__esModule?t(c,\"default\",{value:a,enumerable:!0}):c,a)),y=a=>i(t({},\"__esModule\",{value:!0}),a);var r=N((w,o)=>{o.exports=_jsx_runtime});var z={};k(z,{default:()=>v,frontmatter:()=>f});var n=g(r()),f={title:\"\\u5173\\u4E8E\\u5404\\u79CD\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\",date:\"2023/5/25 11:42:17\",lastmod:\"2023/5/25 11:42:17\",tags:[\"\\u6027\\u80FD\\u4F18\\u5316\"],draft:!1,summary:\"\\u80CC\\u516B\\u80A1\\u7684\\u65F6\\u5019\\u53EA\\u80CC\\u4E86\\u76D1\\u542C\\u6EDA\\u52A8\\u4E8B\\u4EF6\\uFF0C\\u8C03\\u7814\\u53D1\\u73B0\\u7ADF\\u7136\\u6709\\u8FD9\\u4E48\\u591A\\u5B9E\\u73B0\\u65B9\\u5F0F\\u2026\\u2026\\u5C0F\\u7F16\\u4E5F\\u4E0D\\u77E5\\u9053\\u90A3\\u79CD\\u6BD4\\u8F83\\u597D\\uFF0C\\u4E0B\\u9762\\u5E26\\u4F60\\u770B\\u770B\\u5427\",images:\"https://fastly.picsum.photos/id/14/2500/1667.jpg?hmac=ssQyTcZRRumHXVbQAVlXTx-MGBxm6NHWD3SryQ48G-o\",authors:[\"default\"],layout:\"PostLayout\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({p:\"p\",h1:\"h1\",a:\"a\",span:\"span\",pre:\"pre\",code:\"code\",h2:\"h2\",em:\"em\",strong:\"strong\",ul:\"ul\",li:\"li\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u5B57\\u591A\\u4E0D\\u770B\\u7248\\uFF1A\\u5B89\\u88C5\\u63D2\\u4EF6\\u6700\\u7701\\u4E8B\\u5E76\\u4E14\\u9002\\u914D\\u7684\\u60C5\\u51B5\\u4E5F\\u591A \\u{1F923}\"}),(0,n.jsxs)(e.h1,{id:\"\\u539F\\u7406\",children:[(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u539F\\u7406\"]}),(0,n.jsx)(e.p,{children:\"1\\u3001\\u5B58\\u50A8\\u56FE\\u7247\\u7684\\u771F\\u5B9E\\u8DEF\\u5F84\\uFF0C\\u628A\\u56FE\\u7247\\u7684\\u771F\\u5B9E\\u8DEF\\u5F84\\u7ED1\\u5B9A\\u7ED9\\u4E00\\u4E2A\\u4EE5 data \\u5F00\\u5934\\u7684\\u81EA\\u5B9A\\u4E49\\u5C5E\\u6027 data-src \\u5373\\u53EF\\uFF0C\\u9875\\u9762\\u4E2D\\u7684 img \\u5143\\u7D20\\uFF0C\\u5982\\u679C\\u6CA1\\u6709 src \\u5C5E\\u6027\\uFF0C\\u6D4F\\u89C8\\u5668\\u5C31\\u4E0D\\u4F1A\\u53D1\\u51FA\\u8BF7\\u6C42\\u53BB\\u4E0B\\u8F7D\\u56FE\\u7247\\uFF08\\u6CA1\\u6709\\u8BF7\\u6C42\\u5C31\\u63D0\\u9AD8\\u4E86\\u6027\\u80FD\\uFF09\"}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-HTML\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"class\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"scrollLoading\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"data-src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"loaded.html\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),\"\\u52A0\\u8F7D\\u4E2D...\",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})})}),(0,n.jsx)(e.p,{children:\"2\\u3001\\u8BBE\\u7F6E img \\u7684\\u9ED8\\u8BA4 src \\u4E3A\\u5176\\u4ED6\\u56FE\\u7247\\uFF08\\u6240\\u6709\\u7684 img \\u90FD\\u7528\\u8FD9\\u4E00\\u5F20\\uFF0C\\u53EA\\u4F1A\\u53D1\\u9001\\u4E00\\u6B21\\u8BF7\\u6C42\\uFF09\"}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-HTML\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),\"  \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"data-src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"xxx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"1px.gif\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"180\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"180\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]})})}),(0,n.jsx)(e.p,{children:\"3\\u3001\\u9700\\u8981\\u4E00\\u4E2A\\u6EDA\\u52A8\\u4E8B\\u4EF6\\uFF0C\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5728\\u6D4F\\u89C8\\u5668\\u7A97\\u53E3\\uFF0C\\u4E00\\u65E6\\u8FDB\\u5165\\u89C6\\u53E3\\u624D\\u8FDB\\u884C\\u52A0\\u8F7D\\uFF0C\\u5F53\\u6EDA\\u52A8\\u52A0\\u8F7D\\u7684\\u65F6\\u5019\\uFF0C\\u5C31\\u628A\\u8FD9\\u5F20\\u56FE\\u7247\\u66FF\\u6362\\u4E3A\\u771F\\u6B63\\u7684 url \\u5730\\u5740\\uFF08\\u4E5F\\u5C31\\u662F data-src \\u91CC\\u4FDD\\u5B58\\u7684\\u503C\\uFF09\"}),(0,n.jsx)(e.p,{children:\"4\\u3001\\u7B49\\u5230\\u56FE\\u7247\\u8FDB\\u5165\\u89C6\\u53E3\\u540E\\uFF0C\\u5229\\u7528 js \\u63D0\\u53D6 data-src \\u7684\\u771F\\u5B9E\\u56FE\\u7247\\u5730\\u5740\\u8D4B\\u503C\\u7ED9 src \\u5C5E\\u6027\\uFF0C\\u5C31\\u4F1A\\u53BB\\u53D1\\u9001\\u8BF7\\u6C42\\u52A0\\u8F7D\\u56FE\\u7247\\uFF0C\\u771F\\u6B63\\u5B9E\\u73B0\\u4E86\\u6309\\u9700\\u52A0\\u8F7D\"}),(0,n.jsx)(e.p,{children:\"\\u5B9E\\u73B0\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\\u7684\\u591A\\u79CD\\u65B9\\u6CD5\\u7684\\u533A\\u522B\\u5C31\\u5728\\u4E8E\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u8FDB\\u5165\\u89C6\\u53E3\\u7684\\u65B9\\u5F0F\\u4E0D\\u540C\\uFF0C\\u5F53\\u4F7F\\u7528\\u65B9\\u6CD5\\u56DB\\u548C\\u65B9\\u6CD5\\u4E94\\u65F6\\uFF0C\\u5982\\u679C\\u53D1\\u751F\\u6EDA\\u52A8\\u4E8B\\u4EF6\\uFF0C\\u4F1A\\u4EA7\\u751F\\u5927\\u91CF\\u7684\\u5FAA\\u73AF\\u548C\\u5224\\u65AD\\u64CD\\u4F5C\\u5224\\u65AD\\u56FE\\u7247\\u662F\\u5426\\u53EF\\u89C6\\u533A\\u91CC\\uFF0C\\u56E0\\u6B64\\u9700\\u8981\\u7528\\u8282\\u6D41\\u8FDB\\u884C\\u4F18\\u5316\\u3002\"}),(0,n.jsxs)(e.h1,{id:\"\\u65B9\\u6CD5\\u4E00-lazyload-\\u63D2\\u4EF6\",children:[(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E00-lazyload-\\u63D2\\u4EF6\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B9\\u6CD5\\u4E00 lazyload \\u63D2\\u4EF6\"]}),(0,n.jsxs)(e.h2,{id:\"vue2\",children:[(0,n.jsx)(e.a,{href:\"#vue2\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"vue2\"]}),(0,n.jsxs)(e.p,{children:[\"github \\u5730\\u5740\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://github.com/hilongjw/vue-lazyload\",children:\"GitHub - hilongjw/vue-lazyload: A Vue.js plugin for lazyload your Image or Component in your applica\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u539F\\u7406\\uFF1A\",(0,n.jsxs)(e.a,{href:\"https://blog.csdn.net/babyxue/article/details/82986160?spm=1001.2014.3001.5506\",children:[\"Vue-lazyload \\u539F\\u7406\\u8BE6\\u89E3\\u4E4B\\u6E90\\u7801\\u89E3\\u6790\",(0,n.jsx)(e.em,{children:\"lazyload \\u5B9E\\u73B0\\u539F\\u7406\"}),\"\\u5C0F\\u4E03\\u7684\\u73A9\\u5076\\u7684\\u535A\\u5BA2-CSDN \\u535A\\u5BA2\"]})]}),(0,n.jsxs)(e.p,{children:[\"vue-lazyload \\u7684\\u6838\\u5FC3\\u539F\\u7406\\u662F\\u5229\\u7528\\u4E86\",(0,n.jsx)(e.code,{children:\"IntersectionObserver\"}),\" API\\uFF0C\\u8FD9\\u662F\\u4E00\\u4E2A\\u7528\\u4E8E\\u68C0\\u6D4B\\u5143\\u7D20\\u662F\\u5426\\u4E0E\\u89C6\\u53E3\\u76F8\\u4EA4\\u7684 API\\uFF0C\\u5B83\\u53EF\\u4EE5\\u9AD8\\u6548\\u5730\\u76D1\\u542C\\u5143\\u7D20\\u7684\\u53EF\\u89C1\\u6027\\u53D8\\u5316\\uFF0C\\u5E76\\u89E6\\u53D1\\u56DE\\u8C03\\u51FD\\u6570\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"vue-lazyload \\u5728\\u6CE8\\u518C\\u63D2\\u4EF6\\u65F6\\uFF0C\\u4F1A\\u521B\\u5EFA\\u4E00\\u4E2A\\u5168\\u5C40\\u7684\",(0,n.jsx)(e.code,{children:\"IntersectionObserver\"}),\"\\u5B9E\\u4F8B\\uFF0C\\u5E76\\u8BBE\\u7F6E\\u4E00\\u4E9B\\u9009\\u9879\\uFF0C\\u5982\\u9608\\u503C\\uFF08threshold\\uFF09\\u3001\\u6839\\u5143\\u7D20\\uFF08root\\uFF09\\u7B49\\u3002\\u7136\\u540E\\uFF0C\\u5728\\u7ED1\\u5B9A v-lazy \\u6307\\u4EE4\\u65F6\\uFF0C\\u4F1A\\u521B\\u5EFA\\u4E00\\u4E2A\\u76D1\\u542C\\u5668\\uFF08listener\\uFF09\\u5BF9\\u8C61\\uFF0C\\u5E76\\u5C06\\u5176\\u6DFB\\u52A0\\u5230\\u4E00\\u4E2A\\u76D1\\u542C\\u5668\\u961F\\u5217\\uFF08listenerQueue\\uFF09\\u4E2D\\u3002\\u6BCF\\u4E2A\\u76D1\\u542C\\u5668\\u5BF9\\u8C61\\u90FD\\u5305\\u542B\\u4E86\\u5143\\u7D20\\u7684\\u76F8\\u5173\\u4FE1\\u606F\\uFF0C\\u5982\\u72B6\\u6001\\uFF08state\\uFF09\\u3001\\u56FE\\u7247\\u5730\\u5740\\uFF08src\\uFF09\\u7B49\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u63A5\\u4E0B\\u6765\\uFF0Cvue-lazyload \\u4F1A\\u904D\\u5386\\u76D1\\u542C\\u5668\\u961F\\u5217\\uFF0C\\u5E76\\u8C03\\u7528\",(0,n.jsx)(e.code,{children:\"IntersectionObserver\"}),\"\\u5B9E\\u4F8B\\u7684\",(0,n.jsx)(e.code,{children:\"observe\"}),\"\\u65B9\\u6CD5\\uFF0C\\u5C06\\u6BCF\\u4E2A\\u5143\\u7D20\\u6CE8\\u518C\\u5230\\u89C2\\u5BDF\\u8005\\u4E2D\\u3002\\u5F53\\u5143\\u7D20\\u4E0E\\u89C6\\u53E3\\u76F8\\u4EA4\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"IntersectionObserver\"}),\"\\u5B9E\\u4F8B\\u4F1A\\u89E6\\u53D1\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5E76\\u4F20\\u5165\\u4E00\\u4E2A entries \\u53C2\\u6570\\uFF0C\\u8868\\u793A\\u6240\\u6709\\u88AB\\u89C2\\u5BDF\\u7684\\u5143\\u7D20\\u7684\\u72B6\\u6001\\u4FE1\\u606F\\u3002vue-lazyload \\u4F1A\\u6839\\u636E entries \\u4E2D\\u7684\",(0,n.jsx)(e.code,{children:\"isIntersecting\"}),\"\\u5C5E\\u6027\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u53EF\\u89C1\\uFF0C\\u5982\\u679C\\u662F\\uFF0C\\u5219\\u8C03\\u7528\\u76D1\\u542C\\u5668\\u5BF9\\u8C61\\u7684\",(0,n.jsx)(e.code,{children:\"load\"}),\"\\u65B9\\u6CD5\\uFF0C\\u5C06\\u5143\\u7D20\\u7684 src \\u6216\\u8005 style \\u5C5E\\u6027\\u66FF\\u6362\\u4E3A\\u771F\\u5B9E\\u7684\\u56FE\\u7247\\u5730\\u5740\\uFF0C\\u5E76\\u5C06\\u8BE5\\u76D1\\u542C\\u5668\\u5BF9\\u8C61\\u4ECE\\u961F\\u5217\\u4E2D\\u79FB\\u9664\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u5B89\\u88C5\"}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-TypeScript\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"npm i vue\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"lazyload\",(0,n.jsxs)(e.span,{className:\"token decorator\",children:[(0,n.jsx)(e.span,{className:\"token operator at\",children:\"@\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"1\"})]}),(0,n.jsx)(e.span,{className:\"token number\",children:\".2\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\".3\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"S\"}),`\n`]})})}),(0,n.jsx)(e.p,{children:\"main.ts\"}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-TypeScript\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 1.\\u56FE\\u7247\\u61D2\\u52A0\\u8F7D\\u63D2\\u4EF6\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" VueLazyload \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'vue-lazyload'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 2.\\u6CE8\\u518C\\u63D2\\u4EF6\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Vue\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"use\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"VueLazyload\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\\u53C2\\u6570\\u914D\\u7F6E \\u53EF\\u4E0D\\u586B\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u61D2\\u52A0\\u8F7D\\u9ED8\\u8BA4\\u52A0\\u8F7D\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  loading\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'xxx.png'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u52A0\\u8F7D\\u5931\\u8D25\\u540E\\u52A0\\u8F7D\\u7684\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  error\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'xxx.png'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  preLoad\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9884\\u52A0\\u8F7D\\u9AD8\\u5EA6\\u7684\\u6BD4\\u4F8B\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  attempt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"3\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5C1D\\u8BD5\\u52A0\\u8F7D\\u6B21\\u6570\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u53EF\\u9009\\u53C2\\u6570\\u914D\\u7F6E\\u9879\"}),(0,n.jsx)(e.p,{children:\"vue-lazyload \\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4 v-lazy\\uFF0C\\u53EF\\u4EE5\\u5728 img \\u6807\\u7B7E\\u6216\\u8005\\u4EFB\\u4F55\\u9700\\u8981\\u8BBE\\u7F6E\\u80CC\\u666F\\u56FE\\u7247\\u7684\\u6807\\u7B7E\\u4E0A\\u4F7F\\u7528\\u5B83\\u3002\\u4F8B\\u5982\\uFF1A\"}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-HTML\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"<!-- \\u61D2\\u52A0\\u8F7Dimg\\u6807\\u7B7E -->\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"v-lazy\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"imgUrl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"<!-- \\u61D2\\u52A0\\u8F7D\\u80CC\\u666F\\u56FE\\u7247 -->\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsxs)(e.span,{className:\"token attr-name\",children:[(0,n.jsx)(e.span,{className:\"token namespace\",children:\"v-lazy:\"}),\"background-image\"]}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"bgUrl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"v-lazy \\u6307\\u4EE4\\u63A5\\u6536\\u4E00\\u4E2A\\u5B57\\u7B26\\u4E32\\u7C7B\\u578B\\u7684\\u503C\\uFF0C\\u8868\\u793A\\u56FE\\u7247\\u7684\\u5730\\u5740\\u3002\\u5982\\u679C\\u662F\\u80CC\\u666F\\u56FE\\u7247\\uFF0C\\u9700\\u8981\\u5728\\u6307\\u4EE4\\u540E\\u52A0\\u4E0A\",(0,n.jsx)(e.code,{children:\":background-image\"}),\"\\u4FEE\\u9970\\u7B26\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u5F53\\u9875\\u9762\\u6EDA\\u52A8\\u65F6\\uFF0Cvue-lazyload \\u4F1A\\u68C0\\u6D4B\\u5143\\u7D20\\u662F\\u5426\\u8FDB\\u5165\\u53EF\\u89C6\\u533A\\u57DF\\uFF0C\\u5982\\u679C\\u662F\\uFF0C\\u5219\\u66FF\\u6362\\u5143\\u7D20\\u7684 src \\u6216\\u8005 style \\u5C5E\\u6027\\uFF0C\\u4ECE\\u800C\\u5B9E\\u73B0\\u61D2\\u52A0\\u8F7D\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\uFF1A\\u82E5\\u56FE\\u7247\\u4E3A\\u5FAA\\u73AF\\u6E32\\u67D3\\u3001\\u5206\\u9875\\u663E\\u793A\\uFF0C\\u5219\\u5FC5\\u987B\\u5199 key \\u503C\\uFF0C\\u4E0D\\u7136\\u5207\\u6362\\u9875\\u9762\\u540E\\u9875\\u9762\\u89C6\\u56FE\\u4E0D\\u5237\\u65B0\"})}),(0,n.jsxs)(e.h2,{id:\"vue3\",children:[(0,n.jsx)(e.a,{href:\"#vue3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"vue3\"]}),(0,n.jsxs)(e.p,{children:[\"github \\u5730\\u5740\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://github.com/caozhong1996/vue-lazyload-next\",children:\"GitHub - caozhong1996/vue-lazyload-next: vue-lazyload for vue3\"})]}),(0,n.jsx)(e.p,{children:\"\\u539F\\u7406\\u4E0E\\u4F7F\\u7528\\u65B9\\u6CD5\\u4E0E vue2 \\u7248\\u672C\\u63D2\\u4EF6\\u76F8\\u540C\\uFF0C\\u4EC5\\u5B89\\u88C5\\u4E0D\\u540C\"}),(0,n.jsx)(e.p,{children:\"\\u5B89\\u88C5\"}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-HTML\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`npm i vue-lazyload-next -S\n`})})}),(0,n.jsx)(e.p,{children:\"main.ts\"}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-TypeScript\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" VueLazyloadNext \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'vue-lazyload-next'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"use\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"VueLazyloadNext\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6DFB\\u52A0\\u4E00\\u4E9B\\u914D\\u7F6E\\u53C2\\u6570 \\u53EF\\u4E0D\\u586B\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u61D2\\u52A0\\u8F7D\\u9ED8\\u8BA4\\u52A0\\u8F7D\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  loading\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'xxx.png'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u52A0\\u8F7D\\u5931\\u8D25\\u540E\\u52A0\\u8F7D\\u7684\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  error\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'xxx.png'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  preLoad\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9884\\u52A0\\u8F7D\\u9AD8\\u5EA6\\u7684\\u6BD4\\u4F8B\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  attempt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"3\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5C1D\\u8BD5\\u52A0\\u8F7D\\u6B21\\u6570\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h1,{id:\"\\u65B9\\u6CD5\\u4E8C-intersectionobserve\",children:[(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E8C-intersectionobserve\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B9\\u6CD5\\u4E8C IntersectionObserve()\"]}),(0,n.jsxs)(e.p,{children:[\"API\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver\",children:\"IntersectionObserver - Web API \\u63A5\\u53E3\\u53C2\\u8003 | MDN\"})]}),(0,n.jsxs)(e.h2,{id:\"\\u539F\\u7406-1\",children:[(0,n.jsx)(e.a,{href:\"#\\u539F\\u7406-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u539F\\u7406\"]}),(0,n.jsx)(e.p,{children:\"Intersection Observer \\u662F\\u662F\\u6D4F\\u89C8\\u5668\\u539F\\u751F\\u63D0\\u4F9B\\u7684\\u6784\\u9020\\u51FD\\u6570\\uFF0C\\u4F7F\\u7528\\u5B83\\u80FD\\u7701\\u5230\\u5927\\u91CF\\u7684\\u5FAA\\u73AF\\u548C\\u5224\\u65AD\\u3002\\u8FD9\\u4E2A\\u6784\\u9020\\u51FD\\u6570\\u7684\\u4F5C\\u7528\\u662F\\u5B83\\u80FD\\u591F\\u89C2\\u5BDF\\u53EF\\u89C6\\u7A97\\u53E3\\u4E0E\\u76EE\\u6807\\u5143\\u7D20\\u4EA7\\u751F\\u7684\\u4EA4\\u53C9\\u533A\\u57DF\\u3002\\u7B80\\u5355\\u6765\\u8BF4\\u5C31\\u662F\\u5F53\\u7528\\u5B83\\u89C2\\u5BDF\\u6211\\u4EEC\\u7684\\u56FE\\u7247\\u65F6\\uFF0C\\u5F53\\u56FE\\u7247\\u51FA\\u73B0\\u6216\\u8005\\u6D88\\u5931\\u5728\\u53EF\\u89C6\\u7A97\\u53E3\\uFF0C\\u5B83\\u90FD\\u80FD\\u77E5\\u9053\\u5E76\\u4E14\\u4F1A\\u6267\\u884C\\u4E00\\u4E2A\\u7279\\u6B8A\\u7684\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5229\\u7528\\u8FD9\\u4E2A\\u56DE\\u8C03\\u51FD\\u6570\\u5B9E\\u73B0\\u9700\\u8981\\u7684\\u64CD\\u4F5C\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"hook\",children:[(0,n.jsx)(e.a,{href:\"#hook\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"hook\"]}),(0,n.jsx)(e.p,{children:\"vue3 \\u4E2D\\u9009\\u62E9\\u7528 hook \\u8FDB\\u884C\\u96C6\\u6210\"}),(0,n.jsx)(e.p,{children:\"useLazyload.ts \\u6587\\u4EF6\"}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-TypeScript\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5B9A\\u4E49\\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"defineDirective\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"app\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"directive\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'lazy'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"mounted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"el\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" HTMLImageElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bindings\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// el\\u8868\\u793A\\u4F7F\\u7528\\u6307\\u4EE4\\u7684DOM\\u5143\\u7D20\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6307\\u4EE4\\u7684\\u529F\\u80FD\\uFF1A\\u5B9E\\u73B0\\u56FE\\u7247\\u7684\\u61D2\\u52A0\\u8F7D\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 1\\u3001\\u76D1\\u542C\\u56FE\\u7247\\u662F\\u5426\\u8FDB\\u5165\\u53EF\\u89C6\\u533A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" observer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"IntersectionObserver\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" isIntersecting \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// true\\uFF1B\\u8FDB\\u5165\\u53EF\\u89C6\\u533A\\u57DF\\uFF0Cfalse\\uFF1A\\u672A\\u8FDB\\u5165\\u53EF\\u89C6\\u533A\\u57DF\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"isIntersecting\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 1\\u3001\\u7ED9\\u56FE\\u7247\\u7684src\\u5C5E\\u6027\\u8D4B\\u503C\\u56FE\\u7247\\u7684\\u5730\\u5740\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          el\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"src \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" bindings\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"value\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// 2\\u3001\\u53D6\\u6D88\\u56FE\\u7247\\u7684\\u76D1\\u542C\\uFF0C\\u9ED8\\u8BA4\\u662F\\u4F1A\\u4E00\\u76F4\\u76D1\\u542C\\u7684\\uFF0C\\u5982\\u679C\\u4E0D\\u53D6\\u6D88\\u3002\\u5C31\\u4F1A\\u4E00\\u76F4\\u6267\\u884C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// eslint-disable-next-line spellcheck/spell-checker\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          observer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"unobserve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"el\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u76D1\\u542Cdom\\u5143\\u7D20\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      observer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"observe\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"el\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"install\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"app\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u81EA\\u5B9A\\u4E49\\u6307\\u4EE4\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"defineDirective\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"\\u57FA\\u672C\\u7528\\u6CD5\",children:[(0,n.jsx)(e.a,{href:\"#\\u57FA\\u672C\\u7528\\u6CD5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u57FA\\u672C\\u7528\\u6CD5\"]}),(0,n.jsx)(e.p,{children:\"main.ts\"}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-TypeScript\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" lazy \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./hooks/useLazy'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"app\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"use\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lazy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5BF9\\u9700\\u8981\\u8FDB\\u884C\\u61D2\\u52A0\\u8F7D\\u7684 img \\u6807\\u7B7E\\uFF0C\\u76F4\\u63A5\\u5C06\",(0,n.jsx)(e.code,{children:\":src\"}),\"\\u66FF\\u6362\\u4E3A\",(0,n.jsx)(e.code,{children:\"v-lazy\"})]}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-HTML\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"class\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"image\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\":key\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"isCI ? data.rendered_result_image_url : data.rendered_standard_image_url\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"v-lazy\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"isCI ? data.rendered_result_image_url : data.rendered_standard_image_url\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u6CE8\\u610F\\uFF1A\\u82E5\\u56FE\\u7247\\u4E3A\\u5FAA\\u73AF\\u6E32\\u67D3\\u3001\\u5206\\u9875\\u663E\\u793A\\uFF0C\\u5219\\u5FC5\\u987B\\u5199 key \\u503C\\uFF0C\\u4E0D\\u7136\\u5207\\u6362\\u9875\\u9762\\u540E\\u9875\\u9762\\u89C6\\u56FE\\u4E0D\\u5237\\u65B0\"})}),(0,n.jsxs)(e.h1,{id:\"\\u65B9\\u6CD5\\u4E09-loadinglazy\",children:[(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E09-loadinglazy\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),'\\u65B9\\u6CD5\\u4E09 loading=\"lazy\"']}),(0,n.jsx)(e.p,{children:\"HTML \\u65B0\\u589E loading \\u5C5E\\u6027\"}),(0,n.jsxs)(e.h2,{id:\"\\u57FA\\u672C\\u7528\\u6CD5-1\",children:[(0,n.jsx)(e.a,{href:\"#\\u57FA\\u672C\\u7528\\u6CD5-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u57FA\\u672C\\u7528\\u6CD5\"]}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-HTML\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"xxx.png\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"loading\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"lazy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})})}),(0,n.jsx)(e.p,{children:\"loading \\u5C5E\\u6027\\u652F\\u6301 3 \\u79CD\\u5C5E\\u6027\\u503C\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"auto \\u6D4F\\u89C8\\u5668\\u9ED8\\u8BA4\\u7684\\u61D2\\u52A0\\u8F7D\\u7B56\\u7565\\uFF0C\\u548C\\u4E0D\\u589E\\u52A0\\u8FD9\\u4E2A\\u5C5E\\u6027\\u7684\\u8868\\u73B0\\u4E00\\u6837\"}),(0,n.jsx)(e.li,{children:\"lazy \\u5728\\u8D44\\u6E90\\u8DDD\\u5F53\\u524D\\u89C6\\u7A97\\u5230\\u4E86\\u7279\\u5B9A\\u8DDD\\u79BB\\u5185\\u540E\\u518D\\u5F00\\u59CB\\u52A0\\u8F7D\"}),(0,n.jsx)(e.li,{children:\"eager \\u7ACB\\u5373\\u52A0\\u8F7D\\uFF0C\\u65E0\\u8BBA\\u8D44\\u6E90\\u5728\\u9875\\u9762\\u4E2D\\u4EC0\\u4E48\\u4F4D\\u7F6E\"})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u56FE\\u7247\\u5FC5\\u987B\\u58F0\\u660E width \\u548C height\\uFF0C\\u4E0D\\u7136\\u4F1A\\u770B\\u5230\\u5E03\\u5C40\\u53D1\\u751F\\u79FB\\u52A8\"})}),(0,n.jsxs)(e.h2,{id:\"\\u517C\\u5BB9\\u6027\",children:[(0,n.jsx)(e.a,{href:\"#\\u517C\\u5BB9\\u6027\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u517C\\u5BB9\\u6027\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://caniuse.com/?search=loading\",children:\"https://caniuse.com/?search=loading\"})}),(0,n.jsxs)(e.h1,{id:\"\\u65B9\\u6CD5\\u56DB-\\u6EDA\\u52A8\\u76D1\\u542Cscrolltopoffsettopinnerheight\",children:[(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u56DB-\\u6EDA\\u52A8\\u76D1\\u542Cscrolltopoffsettopinnerheight\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B9\\u6CD5\\u56DB \\u6EDA\\u52A8\\u76D1\\u542C+scrollTop+offsetTop+innerHeight\"]}),(0,n.jsx)(e.p,{children:\"\\u5982\\u4F55\\u5224\\u65AD\\u5143\\u7D20\\u662F\\u5426\\u5230\\u8FBE\\u53EF\\u89C6\\u533A\\u57DF\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"window.innerHeight\"}),\" \\u662F\\u6D4F\\u89C8\\u5668\\u53EF\\u89C6\\u533A\\u7684\\u9AD8\\u5EA6\\uFF1B\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"document.body.scrollTop || document.documentElement.scrollTop\"}),\"\\u662F\\u6D4F\\u89C8\\u5668\\u6EDA\\u52A8\\u7684\\u8FC7\\u7684\\u8DDD\\u79BB\\uFF1B\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"imgs.offsetTop\"}),\" \\u662F\\u5143\\u7D20\\u9876\\u90E8\\u8DDD\\u79BB\\u6587\\u6863\\u9876\\u90E8\\u7684\\u9AD8\\u5EA6\\uFF08\\u5305\\u62EC\\u6EDA\\u52A8\\u6761\\u7684\\u8DDD\\u79BB\\uFF09\\uFF1B\"]}),(0,n.jsxs)(e.li,{children:[\"\\u5185\\u5BB9\\u8FBE\\u5230\\u663E\\u793A\\u533A\\u57DF\\uFF1A \",(0,n.jsx)(e.code,{children:\"img.offsetTop < window.innerHeight + document.body.scrollTop;\"})]}),(0,n.jsxs)(e.li,{children:[\"\\u5230\\u8FBE\\u53EF\\u89C6\\u533A\\u57DF\\u540E\\uFF0C\",(0,n.jsx)(e.code,{children:\"imgs[i].src = imgs[i].getAttribute('data-src') as string;\"}),\"\\u5C06 data-src \\u5C5E\\u6027\\u503C\\u8D4B\\u503C\\u7ED9 src\\uFF0C\\u5B9E\\u73B0\\u61D2\\u52A0\\u8F7D\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F46\\u5728\\u96C6\\u6210\\u8FC7\\u7A0B\\u4E2D\\u53D1\\u73B0\\uFF0C\\u7531\\u4E8E img \\u7236\\u5143\\u7D20\\u6807\\u7B7E\\u6CA1\\u6709\\u8BBE\\u7F6E\\u9AD8\\u5EA6\\uFF0C\",(0,n.jsx)(e.code,{children:\"scrollTop\"}),\"\\u59CB\\u7EC8\\u4E3A 0\\uFF0C\\u65E0\\u6CD5\\u5B9E\\u73B0\\u52A8\\u6001\\u8BA1\\u7B97\",(0,n.jsx)(e.code,{children:\"window.innerHeight + document.body.scrollTop\"}),\"\\u7684\\u503C\"]}),(0,n.jsxs)(e.h1,{id:\"\\u65B9\\u6CD5\\u4E94\\u6EDA\\u52A8\\u76D1\\u542Cgetboundingclientrect\",children:[(0,n.jsx)(e.a,{href:\"#\\u65B9\\u6CD5\\u4E94\\u6EDA\\u52A8\\u76D1\\u542Cgetboundingclientrect\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u65B9\\u6CD5\\u4E94\\uFF1A\\u6EDA\\u52A8\\u76D1\\u542C+getBoundingClientRect()\"]}),(0,n.jsxs)(e.p,{children:[\"API:\",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect\",children:\"Element.getBoundingClientRect() - Web API \\u63A5\\u53E3\\u53C2\\u8003 | MDN\"})]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-TypeScript\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\\u83B7\\u53D6\\u6240\\u6709img\\u6807\\u7B7E\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" imgs \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" document\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getElementsByTagName\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'img'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"onMounted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"   \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\\u7528\\u4E8E\\u9996\\u5C4F\\u52A0\\u8F7D\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"lazyLoad\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\\u6DFB\\u52A0\\u6EDA\\u52A8\\u4E8B\\u4EF6\\u76D1\\u542C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  document\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'scroll'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"throttle\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lazyLoad\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"onUnMounted\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  document\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'scroll'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"throttle\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lazyLoad\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8282\\u6D41\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"throttle\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fn\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"apply\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"arg0\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" arg1\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" t\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" flag \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" interval \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" t \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"...\"}),\"args\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"any\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"flag\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fn\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"apply\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" args\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      flag \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setTimeout\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        flag \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"lazyLoad\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" offsetHeight \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" window\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"innerHeight \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" document\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"documentElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"clientHeight\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"Array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"from\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"imgs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" oBounding \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getBoundingClientRect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//\\u8FD4\\u56DE\\u4E00\\u4E2A\\u77E9\\u5F62\\u5BF9\\u8C61\\uFF0C\\u5305\\u542B\\u4E0A\\u4E0B\\u5DE6\\u53F3\\u7684\\u504F\\u79FB\\u503C\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<=\"}),\" oBounding\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"top \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&&\"}),\" oBounding\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"top \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<=\"}),\" offsetHeight\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//     //\\u6027\\u80FD\\u4F18\\u5316 \\u8FDB\\u884C\\u5224\\u65AD \\u5DF2\\u7ECF\\u52A0\\u8F7D\\u7684\\u4E0D\\u4F1A\\u518D\\u8FDB\\u884C\\u52A0\\u8F7D\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getAttribute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'alt'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'loaded'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setAttribute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'src'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getAttribute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'data-src'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setAttribute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'alt'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'loaded'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h2,{id:\"\\u7F3A\\u70B9\",children:[(0,n.jsx)(e.a,{href:\"#\\u7F3A\\u70B9\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u7F3A\\u70B9\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u6302\\u8F7D\\u65F6\\u9700\\u8981\\u7ACB\\u523B\\u8C03\\u7528 lazyLoad \\u51FD\\u6570\\uFF0C\\u4E0D\\u7136\\u9996\\u5C4F\\u4E0D\\u4F1A\\u52A0\\u8F7D\\uFF1B\\u82E5\\u9700\\u8981\\u56FE\\u7247\\u5206\\u9875\\uFF0C\\u5207\\u6362\\u5206\\u9875\\u540E\\u4E0D\\u4F1A\\u4E5F\\u4E3B\\u52A8\\u52A0\\u8F7D\\uFF0C\\u9700\\u8981\\u8C03\\u7528 lazyLoad \\u65B9\\u6CD5\"}),(0,n.jsx)(e.li,{children:\"\\u540C\\u6837\\u9700\\u8981\\u7ED9\\u56FE\\u7247\\u8BBE\\u7F6E key \\u503C\\uFF0C\\u4E0D\\u7136\\u5206\\u9875\\u56FE\\u7247\\u4E0D\\u5237\\u65B0\"})]})]})}}var v=b;return y(z);})();\n;return Component;","toc":[{"value":"原理","url":"#原理","depth":1},{"value":"方法一 lazyload 插件","url":"#方法一-lazyload-插件","depth":1},{"value":"vue2","url":"#vue2","depth":2},{"value":"vue3","url":"#vue3","depth":2},{"value":"方法二 IntersectionObserve()","url":"#方法二-intersectionobserve","depth":1},{"value":"原理","url":"#原理","depth":2},{"value":"hook","url":"#hook","depth":2},{"value":"基本用法","url":"#基本用法","depth":2},{"value":"方法三 loading=\"lazy\"","url":"#方法三-loadinglazy","depth":1},{"value":"基本用法","url":"#基本用法","depth":2},{"value":"兼容性","url":"#兼容性","depth":2},{"value":"方法四 滚动监听+scrollTop+offsetTop+innerHeight","url":"#方法四-滚动监听scrolltopoffsettopinnerheight","depth":1},{"value":"方法五：滚动监听+getBoundingClientRect()","url":"#方法五滚动监听getboundingclientrect","depth":1},{"value":"缺点","url":"#缺点","depth":2}],"frontMatter":{"readingTime":{"text":"6 min read","minutes":5.43,"time":325800,"words":1086},"slug":"图片懒加载","fileName":"图片懒加载.md","title":"关于各种图片懒加载","date":"2023-05-25T03:42:17.000Z","lastmod":"2023/5/25 11:42:17","tags":["性能优化"],"draft":false,"summary":"背八股的时候只背了监听滚动事件，调研发现竟然有这么多实现方式……小编也不知道那种比较好，下面带你看看吧","images":"https://fastly.picsum.photos/id/14/2500/1667.jpg?hmac=ssQyTcZRRumHXVbQAVlXTx-MGBxm6NHWD3SryQ48G-o","authors":["default"],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.17,"time":10200,"words":34},"slug":["default"],"fileName":"default.md","name":"Quelennuii","avatar":"/static/images/avatar.png","email":"gintoki1011@126.com","github":"https://github.com/Quelennuii","date":null}],"prev":{"title":"螺丝是怎么拧的","date":"2022-11-13T01:55:24.000Z","lastmod":"2024/2/21 16:07:19","tags":["实际应用"],"draft":false,"summary":"打螺丝熟练工（","images":"https://fastly.picsum.photos/id/13/2500/1667.jpg?hmac=SoX9UoHhN8HyklRA4A3vcCWJMVtiBXUg0W4ljWTor7s","authors":["default"],"layout":"PostLayout","slug":"螺丝是怎么拧的"},"next":null},"__N_SSG":true}